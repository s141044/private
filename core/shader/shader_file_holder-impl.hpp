
///////////////////////////////////////////////////////////////////////////////////////////////////

namespace nn{

///////////////////////////////////////////////////////////////////////////////////////////////////

namespace render{

///////////////////////////////////////////////////////////////////////////////////////////////////
//shader_file_holder
///////////////////////////////////////////////////////////////////////////////////////////////////

//XV
inline void shader_file_holder::update()
{
	auto p_update = mp_file->mp_update.load();
	while(true)
	{
		auto p_update2 = p_update->mp_update.load();
		if(p_update2 == nullptr)
			break;

		p_update = std::move(p_update2);
	}
	mp_file = std::move(p_update);
}

///////////////////////////////////////////////////////////////////////////////////////////////////

} //namespace render

///////////////////////////////////////////////////////////////////////////////////////////////////

} //namespace nn

///////////////////////////////////////////////////////////////////////////////////////////////////
